generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model aluno {
  id             Int         @id @default(autoincrement())
  nome           String
  email          String      @unique(map: "Aluno_email_key")
  telefone       String
  datanasc       DateTime
  arteMarcial    String
  RA             Int
  notaTecnica    Float?
  notaDisciplina Float?
  frequencia     Float?
  matricula      matricula[]
}

model matricula {
  id            Int       @id @default(autoincrement())
  alunoId       Int
  turmaId       Int
  dataMatricula DateTime? @default(now())
  aluno         aluno     @relation(fields: [alunoId], references: [id], map: "Matricula_alunoId_fkey")
  turma         turma     @relation(fields: [turmaId], references: [id], map: "Matricula_turmaId_fkey")

  @@index([alunoId], map: "Matricula_alunoId_fkey")
  @@index([turmaId], map: "Matricula_turmaId_fkey")
}

model planejamento {
  id          Int       @id @default(autoincrement())
  diaSemana   String
  atividade   String
  data        DateTime  @default(now())
  professorId Int
  professor   professor @relation(fields: [professorId], references: [id])

  @@index([professorId], map: "planejamento_professorId_fkey")
}

model professor {
  id           Int            @id @default(autoincrement())
  nome         String
  cpf          String         @unique(map: "Professor_cpf_key")
  email        String         @unique(map: "Professor_email_key")
  telefone     String?
  arteMarcial  String?
  datanasc     DateTime?
  planejamento planejamento[]
  turma        turma[]
}

model turma {
  id          Int         @id @default(autoincrement())
  nome        String
  arteMarcial String?
  professorId Int?
  matricula   matricula[]
  professor   professor?  @relation(fields: [professorId], references: [id], map: "Turma_professorId_fkey")

  @@index([professorId], map: "Turma_professorId_fkey")
}
